'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _enzyme = require('enzyme');

var _Calendar = require('./Calendar');

var _Calendar2 = _interopRequireDefault(_Calendar);

var _luxon = require('luxon');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Calendar', function () {
  it('should render without throwing', function () {
    (0, _enzyme.shallow)(_react2.default.createElement(_Calendar2.default, null));
  });

  it('defaults to today', function () {
    var calendar = (0, _enzyme.shallow)(_react2.default.createElement(_Calendar2.default, null));
    var monthString = _luxon.DateTime.local().toLocaleString({
      month: 'short',
      year: 'numeric'
    });

    expect(calendar.find('.rev-Calendar-header-label').text()).to.contain(monthString);
  });

  it('treats invalid dates as today', function () {
    var calendar = (0, _enzyme.shallow)(_react2.default.createElement(_Calendar2.default, { selectedDate: '-05-17' }));
    var monthString = _luxon.DateTime.local().toLocaleString({
      month: 'short',
      year: 'numeric'
    });

    expect(calendar.find('.rev-Calendar-header-label').text()).to.contain(monthString);
  });

  it('can advance a month backward', function () {
    var calendar = (0, _enzyme.shallow)(_react2.default.createElement(_Calendar2.default, null));

    calendar.find('.rev-Calendar-header-button--previous').simulate('click', { preventDefault: function preventDefault() {
        return null;
      } });
    var monthString = _luxon.DateTime.local()
    // deals with the situation when you are on 5/31 and you step back one
    // month. Since there is no 4/31, luxon makes the date 5/1 instead. Every
    // month has a 1st, and we only need the month part for this test
    .startOf('month').plus(_luxon.Duration.fromObject({ month: -1 })).toLocaleString({ month: 'short', year: 'numeric' });

    expect(calendar.find('.rev-Calendar-header-label').text()).to.contain(monthString);
  });

  it('can advance a month forward', function () {
    var calendar = (0, _enzyme.shallow)(_react2.default.createElement(_Calendar2.default, null));

    calendar.find('.rev-Calendar-header-button--next').simulate('click', { preventDefault: function preventDefault() {
        return null;
      } });
    var monthString = _luxon.DateTime.local()
    // deals with the situation when you are on 3/31 and you step forward one
    // month. Since there is no 4/31, luxon makes the date 5/1 instead. Every
    // month has a 1st, and we only need the month part for this test
    .startOf('month').plus(_luxon.Duration.fromObject({ month: 1 })).toLocaleString({ month: 'short', year: 'numeric' });

    expect(calendar.find('.rev-Calendar-header-label').text()).to.contain(monthString);
  });
});
//# sourceMappingURL=Calendar.test.js.map