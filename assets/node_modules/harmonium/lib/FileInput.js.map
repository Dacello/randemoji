{"version":3,"sources":["../src/FileInput.js"],"names":["FileInput","state","filePath","onChange","e","rest","currentTarget","value","substring","length","setState","props","button","className","error","placeholder","inputGroupClassName","Component","propTypes","PropTypes","string","oneOfType","bool","func","defaultProps","FileInputStack","help","label","labelClassName","Stack"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEqBA,S;;;;;;;;;;;;;;4LAcnBC,K,GAAQ;AACNC,gBAAU;AADJ,K,QAIRC,Q,GAAW,UAACC,CAAD,EAAgB;AAAA,yCAATC,IAAS;AAATA,YAAS;AAAA;;AACzB,UAAMH,WAAWE,EAAEE,aAAF,CAAgBC,KAAhB,CAAsBC,SAAtB,CAAgC,iBAAiBC,MAAjD,CAAjB;;AAEA,YAAKC,QAAL,CAAc,EAACR,kBAAD,EAAd;;AAEA,UAAI,MAAKS,KAAL,CAAWR,QAAf,EAAyB;AAAA;;AACvB,eAAO,qBAAKQ,KAAL,EAAWR,QAAX,qBAAoBC,CAApB,SAA0BC,IAA1B,EAAP;AACD;AACD,aAAO,IAAP;AACD,K;;;;;6BAEQ;AAAA,mBACmD,KAAKM,KADxD;AAAA,UACAC,MADA,UACAA,MADA;AAAA,UACQC,SADR,UACQA,SADR;AAAA,UACmBC,KADnB,UACmBA,KADnB;AAAA,UAC0BC,WAD1B,UAC0BA,WAD1B;AAAA,UAC0CJ,KAD1C;;AAAA,UAEAT,QAFA,GAEY,KAAKD,KAFjB,CAEAC,QAFA;;;AAIP,UAAMc,sBAAsB,0BAAWH,SAAX,EAAsB,eAAtB,EAAuC;AACjE,sBAAc,CAAC,CAACC;AADiD,OAAvC,CAA5B;;AAIA,aACE;AAAC,4BAAD;AAAA,UAAY,WAAWE,mBAAvB;AACE;AAAC,8BAAD,CAAY,KAAZ;AAAA;AACE;AAAC,gCAAD,CAAY,KAAZ;AAAA,cAAkB,WAAU,qBAA5B;AACGd,wBAAYa;AADf;AADF,SADF;AAME;AAAC,8BAAD,CAAY,MAAZ;AAAA;AACE;AAAC,4BAAD;AAAA,cAAQ,KAAI,OAAZ,EAAoB,WAAU,sBAA9B;AACGH,kBADH;AAEE;AACE,oBAAK,MADP;AAEE,yBAAU,WAFZ;AAGE,wBAAU,KAAKT;AAHjB,eAIMQ,KAJN;AAFF;AADF;AANF,OADF;AAoBD;;;;EAzDoCM,gB;;AAAlBjB,S,CACZkB,S,GAAY;AACjBN,UAAQO,oBAAUC,MADD;AAEjBN,SAAOK,oBAAUE,SAAV,CAAoB,CAACF,oBAAUG,IAAX,EAAiBH,oBAAUC,MAA3B,CAApB,CAFU;AAGjBL,eAAaI,oBAAUC,MAHN;AAIjBjB,YAAUgB,oBAAUI,IAJH;AAKjBV,aAAWM,oBAAUC;AALJ,C;AADApB,S,CASZwB,Y,GAAe;AACpBZ,UAAQ,aADY;AAEpBG,eAAa;AAFO,C;kBATHf,S;;IA4DfyB,c;;;;;;;;;;;6BAQK;AAAA,oBAC2C,KAAKd,KADhD;AAAA,UACAG,KADA,WACAA,KADA;AAAA,UACOY,IADP,WACOA,IADP;AAAA,UACab,SADb,WACaA,SADb;AAAA,UACwBc,KADxB,WACwBA,KADxB;AAAA,UACkChB,KADlC;;AAGP,UAAMiB,iBAAiB,0BAAWf,SAAX,EAAsB,oBAAtB,CAAvB;;AAEA,aACE;AAAC,4BAAD;AAAA,UAAY,WAAWe,cAAvB,EAAuC,OAAOd,KAA9C;AACGa,aADH;AAEE,sCAAC,SAAD,eAAehB,KAAf,IAAsB,OAAOG,KAA7B,IAFF;AAGE;AAAC,iCAAD;AAAA;AAAgBY;AAAhB,SAHF;AAIE;AAAC,+BAAD;AAAA;AAAcZ;AAAd;AAJF,OADF;AAQD;;;;EArB0BG,gB;;AAAvBQ,c,CACGP,S,GAAY;AACjBJ,SAAOK,oBAAUE,SAAV,CAAoB,CAACF,oBAAUG,IAAX,EAAiBH,oBAAUC,MAA3B,CAApB,CADU;AAEjBM,QAAMP,oBAAUC,MAFC;AAGjBO,SAAOR,oBAAUC,MAHA;AAIjBP,aAAWM,oBAAUC;AAJJ,C;;AAsBrBpB,UAAU6B,KAAV,GAAkBJ,cAAlB","file":"FileInput.js","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport InputGroup from './InputGroup'\nimport Button from './Button'\nimport InputLabel from './InputLabel'\nimport InputErrors from './InputErrors'\nimport InputHelpText from './InputHelpText'\n\nexport default class FileInput extends Component {\n  static propTypes = {\n    button: PropTypes.string,\n    error: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n    placeholder: PropTypes.string,\n    onChange: PropTypes.func,\n    className: PropTypes.string,\n  }\n\n  static defaultProps = {\n    button: 'Choose File',\n    placeholder: 'No file chosen',\n  }\n\n  state = {\n    filePath: null,\n  }\n\n  onChange = (e, ...rest) => {\n    const filePath = e.currentTarget.value.substring('C:\\\\fakepath\\\\'.length)\n\n    this.setState({filePath})\n\n    if (this.props.onChange) {\n      return this.props.onChange(e, ...rest)\n    }\n    return null\n  }\n\n  render() {\n    const {button, className, error, placeholder, ...props} = this.props\n    const {filePath} = this.state\n\n    const inputGroupClassName = classNames(className, 'rev-FileInput', {\n      'is-invalid': !!error,\n    })\n\n    return (\n      <InputGroup className={inputGroupClassName}>\n        <InputGroup.Field>\n          <InputGroup.Label className=\"rev-FileInput-label\">\n            {filePath || placeholder}\n          </InputGroup.Label>\n        </InputGroup.Field>\n        <InputGroup.Button>\n          <Button tag=\"label\" className=\"rev-FileInput-button\">\n            {button}\n            <input\n              type=\"file\"\n              className=\"ShowForSR\"\n              onChange={this.onChange}\n              {...props}\n            />\n          </Button>\n        </InputGroup.Button>\n      </InputGroup>\n    )\n  }\n}\n\nclass FileInputStack extends Component {\n  static propTypes = {\n    error: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n    help: PropTypes.string,\n    label: PropTypes.string,\n    className: PropTypes.string,\n  }\n\n  render() {\n    const {error, help, className, label, ...props} = this.props\n\n    const labelClassName = classNames(className, 'rev-FileInputStack')\n\n    return (\n      <InputLabel className={labelClassName} error={error}>\n        {label}\n        <FileInput {...props} error={error} />\n        <InputHelpText>{help}</InputHelpText>\n        <InputErrors>{error}</InputErrors>\n      </InputLabel>\n    )\n  }\n}\nFileInput.Stack = FileInputStack\n"]}